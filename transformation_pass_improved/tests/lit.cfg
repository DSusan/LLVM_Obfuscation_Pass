import os
import lit.llvm

# Use default substitutions from LLVM lit configuration
lit.llvm.initialize(lit_config, config)

# Define the path to the LLVM tools, such as 'opt' and 'FileCheck'
llvm_tools_dir = os.environ.get("LLVM_BUILD_PATH", "/path/to/llvm/build/bin")

# Add substitutions for LLVM tools
config.substitutions.append(('%opt', os.path.join(llvm_tools_dir, 'opt')))
config.substitutions.append(('%FileCheck', os.path.join(llvm_tools_dir, 'FileCheck')))

# Specify the suffixes of test files
config.suffixes = ['.ll']

# Define test format
config.test_format = lit.formats.ShTest(not llvm_tools_dir)

# Set the root path for the tests
config.test_source_root = os.path.dirname(__file__)
